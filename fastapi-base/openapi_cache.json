{"openapi": "3.1.0", "info": {"title": "PIPELINE_MXH", "description": "\n        Pipeline MXH - Crawl \u2192 ETL \u2192 Topic Modeling API\n            - Web/RSS/File/API Crawler\n            - Topic Modeling v\u1edbi BERTopic Vietnamese\n            - Dashboard & Analytics\n        ", "version": "0.1.0"}, "paths": {"/api/healthcheck": {"get": {"tags": ["[Current] Health Check"], "summary": "Get", "operationId": "get_api_healthcheck_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse"}}}}}}}, "/api/crawl": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Crawl", "description": "\ud83d\ude80 CRAWL API - C\u1ef0C K\u1ef2 \u0110\u01a0N GI\u1ea2N\n\nCh\u1ec9 c\u1ea7n 2 tham s\u1ed1:\n- url: Link web c\u1ea7n crawl\n- mode: Ch\u1ebf \u0111\u1ed9 crawl\n\nModes:\n- \"preview\": Xem tr\u01b0\u1edbc (title, description, s\u1ed1 links) - KH\u00d4NG crawl\n- \"quick\": Crawl nhanh (50 trang, depth=2) \n- \"max\": Crawl m\u1ea1nh nh\u1ea5t (5000 trang, depth=5) - M\u1eb6C \u0110\u1ecaNH\n- \"full\": Crawl + tr\u1ea3 v\u1ec1 stats\n\nExamples:\n    {\"url\": \"https://baohungyen.vn\", \"mode\": \"max\"}\n    {\"url\": \"https://vnexpress.net\", \"mode\": \"preview\"}\n    {\"url\": \"https://example.com\", \"mode\": \"full\"}", "operationId": "crawl_api_crawl_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/status": {"get": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Get Status", "operationId": "get_status_api_crawl_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/crawl/preview": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Preview Crawl", "description": "Preview metadata c\u1ee7a 1 trang (homepage) tr\u01b0\u1edbc khi crawl th\u1eadt.\nCh\u1ec9 \u0111\u1ebfm links \u1edf trang \u0111\u1ea7u ti\u00ean.\n\n\u0110\u1ec3 \u0111\u1ebfm T\u1ea4T C\u1ea2 links trong to\u00e0n b\u1ed9 domain, d\u00f9ng /preview-full", "operationId": "preview_crawl_api_crawl_preview_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PreviewRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PreviewResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/preview-full": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Preview Full Domain", "description": "Preview th\u00f4ng minh: Ph\u00e1t hi\u1ec7n c\u1ea5u tr\u00fac danh m\u1ee5c c\u1ee7a website\n- T\u1ef1 \u0111\u1ed9ng ph\u00e1t hi\u1ec7n categories v\u00e0 subcategories\n- \u0110\u1ebfm s\u1ed1 links trong m\u1ed7i danh m\u1ee5c/danh m\u1ee5c con\n- Ph\u00e2n bi\u1ec7t links l\u1ebb vs links trong danh m\u1ee5c\n- Kh\u00f4ng hi\u1ec3n th\u1ecb chi ti\u1ebft URLs (ch\u1ec9 s\u1ed1 l\u01b0\u1ee3ng)", "operationId": "preview_full_domain_api_crawl_preview_full_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PreviewFullRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PreviewFullResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/by-category": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Crawl By Category", "description": "Crawl ch\u1ec9 c\u00e1c trang thu\u1ed9c category/subcategory c\u1ee5 th\u1ec3.\n\nV\u00ed d\u1ee5:\n- category=\"dich-vu\", subcategory=\"spa-cham-soc-da\"\n  \u2192 Ch\u1ec9 crawl c\u00e1c link c\u00f3 path: /dich-vu/spa-cham-soc-da/*\n\n- category=\"tin-tuc\", subcategory=None\n  \u2192 Crawl t\u1ea5t c\u1ea3 link c\u00f3 path: /tin-tuc/*", "operationId": "crawl_by_category_api_crawl_by_category_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlByCategoryRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlByCategoryResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/stats/{domain}": {"get": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Get Crawl Stats", "description": "Get crawl statistics for a domain", "operationId": "get_crawl_stats_api_crawl_stats__domain__get", "parameters": [{"name": "domain", "in": "path", "required": true, "schema": {"type": "string", "title": "Domain"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlStatsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/incremental": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Incremental Crawl", "description": "Incremental crawling - only crawl new/pending URLs\nUse this for daily updates instead of full site crawl", "operationId": "incremental_crawl_api_crawl_incremental_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/IncrementalCrawlRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CrawlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/crawl/discover": {"post": {"tags": ["Pipeline", "1\ufe0f\u20e3 Crawl"], "summary": "Discover Urls", "description": "Discovery phase: crawl to find URLs without extracting content\nBuilds the crawl_history table for later incremental crawling", "operationId": "discover_urls_api_crawl_discover_post", "parameters": [{"name": "domain", "in": "query", "required": true, "schema": {"type": "string", "title": "Domain"}}, {"name": "start_url", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Start Url"}}, {"name": "max_pages", "in": "query", "required": false, "schema": {"type": "integer", "default": 50, "title": "Max Pages"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics": {"get": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Get Topics", "operationId": "get_topics_api_topics_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}, "post": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Topics Unified", "description": "G\u1ed8P T\u1ea4T C\u1ea2 - API topics \u0111a n\u0103ng\n\nActions:\n- \"train\": Train topic model t\u1eeb documents\n- \"assign\": G\u00e1n topics cho documents m\u1edbi\n- \"search\": T\u00ecm ki\u1ebfm documents theo query\n- \"overview\": Xem t\u1ed5ng quan topics\n\nExample:\n    {\"action\": \"train\", \"documents\": [\"doc1\", \"doc2\"]}\n    {\"action\": \"search\", \"query\": \"kinh t\u1ebf\"}\n    {\"action\": \"overview\"}", "operationId": "topics_unified_api_topics_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TopicRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/train-auto": {"post": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Train Topics Auto", "description": "AUTO-TRAIN: T\u1ef1 \u0111\u1ed9ng load t\u1ea5t c\u1ea3 articles t\u1eeb DB v\u00e0 train topics\n\n\u2728 Features m\u1edbi:\n- Auto load t\u1eeb DB\n- Preprocessing n\u00e2ng cao (diacritics normalization, abbreviation expansion)\n- Vietnamese tokenization (underthesea)\n- Stopwords removal\n- Better phrase extraction\n\nExample:\n    POST /api/topics/train-auto?min_topic_size=15&model_name=my_model", "operationId": "train_topics_auto_api_topics_train_auto_post", "parameters": [{"name": "min_topic_size", "in": "query", "required": false, "schema": {"type": "integer", "default": 10, "title": "Min Topic Size"}}, {"name": "model_name", "in": "query", "required": false, "schema": {"type": "string", "default": "vietnamese_model_v3", "title": "Model Name"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/fit": {"post": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Fit Topics", "description": "Deprecated - use POST / with action='train' instead", "operationId": "fit_topics_api_topics_fit_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/FitRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/transform": {"post": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Transform Documents", "operationId": "transform_documents_api_topics_transform_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TransformRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/topics/{topic_id}": {"get": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Get Topic Detail", "operationId": "get_topic_detail_api_topics_topics__topic_id__get", "parameters": [{"name": "topic_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Topic Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/search": {"post": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Search Documents", "operationId": "search_documents_api_topics_search_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__api__routers__topics__SearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/topics/distribution": {"get": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Get Topic Distribution", "description": "t\u1ea1o ra ch\u1ec9 \u0111\u1ec3 fix 404 \nch\u1ee9 ch\u01b0a bi\u1ebft l\u00e0m g\u00ec TT -v\u0169-", "operationId": "get_topic_distribution_api_topics_distribution_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/topics/": {"get": {"tags": ["Pipeline", "2\ufe0f\u20e3 Topics"], "summary": "Topics Root", "operationId": "topics_root_api_topics__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Dashboard Overview", "description": "G\u1ed8P T\u1ea4T C\u1ea2 - Dashboard t\u1ed5ng h\u1ee3p: stats + topics + charts + activity\nTr\u1ea3 v\u1ec1 t\u1ea5t c\u1ea3 th\u00f4ng tin trong 1 l\u1ea7n g\u1ecdi", "operationId": "get_dashboard_overview_api_dashboard_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/stats": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Dashboard Stats", "description": "Get comprehensive dashboard statistics (deprecated - use GET / instead)", "operationId": "get_dashboard_stats_api_dashboard_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/topics": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topic Breakdown", "description": "Get topic distribution breakdown", "operationId": "get_topic_breakdown_api_dashboard_topics_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/activity": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Recent Activity Endpoint", "description": "Get recent crawl and analysis activities", "operationId": "get_recent_activity_endpoint_api_dashboard_activity_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/timeline": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Timeline Chart", "description": "Get timeline data for documents and crawl sessions", "operationId": "get_timeline_chart_api_dashboard_charts_timeline_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/media-stats": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Media Stats Chart", "description": "Get media statistics (images, videos) from documents", "operationId": "get_media_stats_chart_api_dashboard_charts_media_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/page-types": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Page Types Chart", "description": "Get page types distribution", "operationId": "get_page_types_chart_api_dashboard_charts_page_types_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/document-lengths": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Document Lengths Chart", "description": "Get document length distribution", "operationId": "get_document_lengths_chart_api_dashboard_charts_document_lengths_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/topic-probabilities": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topic Probabilities Chart", "description": "Get topic probability distribution (requires topic model)", "operationId": "get_topic_probabilities_chart_api_dashboard_charts_topic_probabilities_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/charts/crawl-sessions": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Crawl Sessions Chart", "description": "Get crawl sessions statistics over time", "operationId": "get_crawl_sessions_chart_api_dashboard_charts_crawl_sessions_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/keywords": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Keywords Analysis", "description": "Get top keywords from all documents", "operationId": "get_keywords_analysis_api_dashboard_keywords_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/topics/insights": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topics Insights", "description": "Get detailed insights about topics - what each topic is about", "operationId": "get_topics_insights_api_dashboard_topics_insights_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/topics/keywords": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topics Keywords", "description": "Get keywords for each topic - for keyword analysis", "operationId": "get_topics_keywords_api_dashboard_topics_keywords_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/content/analysis": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Content Analysis", "description": "Get content analysis - what the documents are about", "operationId": "get_content_analysis_api_dashboard_content_analysis_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/topics/summary": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topics Summary", "description": "Get summary of what topics are about - main themes", "operationId": "get_topics_summary_api_dashboard_topics_summary_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/trends/topics": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Topics Trends", "description": "Get topics trends over time - xu h\u01b0\u1edbng topics theo th\u1eddi gian", "operationId": "get_topics_trends_api_dashboard_trends_topics_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/trends/documents": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Documents Trends", "description": "Get documents trends over time - xu h\u01b0\u1edbng documents theo th\u1eddi gian", "operationId": "get_documents_trends_api_dashboard_trends_documents_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/trends/keywords": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Keywords Trends", "description": "Get keywords trends over time - xu h\u01b0\u1edbng keywords theo th\u1eddi gian", "operationId": "get_keywords_trends_api_dashboard_trends_keywords_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/impact-analysis": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Impact Analysis", "description": "\u0110\u00e1nh gi\u00e1 m\u1ee9c \u0111\u1ed9 \u1ea3nh h\u01b0\u1edfng c\u1ee7a topics v\u00e0 keywords", "operationId": "get_impact_analysis_api_dashboard_impact_analysis_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/dashboard/trending/hot-topics": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Hot Topics", "description": "Top ch\u1ee7 \u0111\u1ec1 n\u00f3ng trong 24h / 7 ng\u00e0y / 30 ng\u00e0y\n\nPh\u00e2n t\u00edch:\n- S\u1ed1 l\u01b0\u1ee3ng b\u00e0i vi\u1ebft m\u1edbi\n- T\u1ed1c \u0111\u1ed9 t\u0103ng tr\u01b0\u1edfng\n- Score = count * growth_rate", "operationId": "get_hot_topics_api_dashboard_trending_hot_topics_get", "parameters": [{"name": "timeframe", "in": "query", "required": false, "schema": {"type": "string", "default": "24h", "title": "Timeframe"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 10, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/trending/new-topics": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get New Topics", "description": "Ch\u1ee7 \u0111\u1ec1 m\u1edbi xu\u1ea5t hi\u1ec7n trong N ng\u00e0y g\u1ea7n \u0111\u00e2y\n\nTopic \u0111\u01b0\u1ee3c coi l\u00e0 \"m\u1edbi\" n\u1ebfu:\n- Kh\u00f4ng c\u00f3 b\u00e0i vi\u1ebft tr\u01b0\u1edbc \u0111\u00f3\n- Xu\u1ea5t hi\u1ec7n l\u1ea7n \u0111\u1ea7u trong N ng\u00e0y g\u1ea7n \u0111\u00e2y", "operationId": "get_new_topics_api_dashboard_trending_new_topics_get", "parameters": [{"name": "days", "in": "query", "required": false, "schema": {"type": "integer", "default": 7, "title": "Days"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/trending/keywords-spike": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Keywords Spike", "description": "T\u1eeb kh\u00f3a t\u0103ng tr\u01b0\u1edfng b\u1ea5t th\u01b0\u1eddng\n\nPh\u00e1t hi\u1ec7n keywords c\u00f3:\n- T\u1ea7n su\u1ea5t t\u0103ng \u0111\u1ed9t bi\u1ebfn so v\u1edbi tr\u01b0\u1edbc \u0111\u00f3\n- V\u01b0\u1ee3t ng\u01b0\u1ee1ng threshold (v\u00ed d\u1ee5: 2x = t\u0103ng g\u1ea5p \u0111\u00f4i)", "operationId": "get_keywords_spike_api_dashboard_trending_keywords_spike_get", "parameters": [{"name": "threshold", "in": "query", "required": false, "schema": {"type": "number", "default": 2.0, "title": "Threshold"}}, {"name": "timeframe", "in": "query", "required": false, "schema": {"type": "string", "default": "7d", "title": "Timeframe"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 20, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/summary/overview": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Summary Overview", "description": "T\u1ed5ng quan s\u1ed1 l\u01b0\u1ee3ng b\u00e0i vi\u1ebft theo ng\u00e0y/tu\u1ea7n/th\u00e1ng\n\nT\u1ed5ng h\u1ee3p:\n- S\u1ed1 b\u00e0i vi\u1ebft theo th\u1eddi gian\n- Ph\u00e2n b\u1ed1 theo ngu\u1ed3n\n- Ph\u00e2n b\u1ed1 theo topic", "operationId": "get_summary_overview_api_dashboard_summary_overview_get", "parameters": [{"name": "period", "in": "query", "required": false, "schema": {"type": "string", "default": "day", "title": "Period"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/summary/top-influential": {"get": {"tags": ["Pipeline", "3\ufe0f\u20e3 Dashboard"], "summary": "Get Top Influential", "description": "Top b\u00e0i vi\u1ebft c\u00f3 \u1ea3nh h\u01b0\u1edfng l\u1edbn\n\nRanking d\u1ef1a tr\u00ean:\n- Word count (\u0111\u1ed9 d\u00e0i)\n- Topic probability (\u0111\u1ed9 ch\u00ednh x\u00e1c topic)\n- C\u00f3 \u1ea3nh/video\n- Domain authority (ngu\u1ed3n uy t\u00edn)", "operationId": "get_top_influential_api_dashboard_summary_top_influential_get", "parameters": [{"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 10, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sources": {"get": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Get Sources Overview", "description": "G\u1ed8P T\u1ea4T C\u1ea2 - Xem ngu\u1ed3n thu th\u1eadp theo t\u1eebng lo\u1ea1i + th\u1ed1ng k\u00ea chi ti\u1ebft\n\nTr\u1ea3 v\u1ec1:\n- news: Danh s\u00e1ch b\u00e1o \u0111i\u1ec7n t\u1eed (name, url, s\u1ed1 b\u00e0i, s\u1ed1 categories, ngu\u1ed3n con...)\n- social: Danh s\u00e1ch m\u1ea1ng x\u00e3 h\u1ed9i\n- forum: Danh s\u00e1ch di\u1ec5n \u0111\u00e0n\n- stats: Th\u1ed1ng k\u00ea t\u1ed5ng quan\n\nN\u1ebfu lo\u1ea1i n\u00e0o kh\u00f4ng c\u00f3 \u2192 tr\u1ea3 v\u1ec1 []", "operationId": "get_sources_overview_api_sources_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}, "post": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Add Source", "description": "Th\u00eam ngu\u1ed3n thu th\u1eadp m\u1edbi\n\nTypes:\n- news: B\u00e1o \u0111i\u1ec7n t\u1eed, c\u1ed5ng th\u00f4ng tin, websites ban ng\u00e0nh\n- social: M\u1ea1ng x\u00e3 h\u1ed9i (Facebook, Twitter, Instagram...)\n- forum: Di\u1ec5n \u0111\u00e0n, Fanpage, Group \u0111\u1ecba ph\u01b0\u01a1ng\n\nExample:\n    {\"name\": \"B\u00e1o H\u01b0ng Y\u00ean\", \"url\": \"https://baohungyen.vn\", \"type\": \"news\"}\n    {\"name\": \"FB H\u01b0ng Y\u00ean\", \"url\": \"https://facebook.com/hungyenpage\", \"type\": \"social\"}", "operationId": "add_source_api_sources_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SourceCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sources/{source_id}": {"get": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Get Source Detail", "description": "Xem chi ti\u1ebft 1 ngu\u1ed3n", "operationId": "get_source_detail_api_sources__source_id__get", "parameters": [{"name": "source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Update Source", "description": "C\u1eadp nh\u1eadt ngu\u1ed3n", "operationId": "update_source_api_sources__source_id__put", "parameters": [{"name": "source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Source Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SourceCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Delete Source", "description": "X\u00f3a ngu\u1ed3n (soft delete - set is_active=False)", "operationId": "delete_source_api_sources__source_id__delete", "parameters": [{"name": "source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sources/{source_id}/stats": {"get": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Get Source Stats", "description": "Th\u1ed1ng k\u00ea chi ti\u1ebft 1 ngu\u1ed3n: \n- T\u1ed5ng s\u1ed1 b\u00e0i\n- S\u1ed1 URLs duy nh\u1ea5t\n- Ph\u00e2n t\u00edch URL patterns (ngu\u1ed3n con: /chinh-tri, /kinh-te...)\n- Timeline crawl", "operationId": "get_source_stats_api_sources__source_id__stats_get", "parameters": [{"name": "source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sources/sync": {"post": {"tags": ["Pipeline", "4\ufe0f\u20e3 Sources"], "summary": "Sync Sources From Articles", "description": "T\u1ef1 \u0111\u1ed9ng t\u1ea1o sources t\u1eeb articles c\u00f3 s\u1eb5n trong DB\n\nQu\u00e9t t\u1ea5t c\u1ea3 articles, t\u1ea1o source cho m\u1ed7i URL g\u1ed1c ch\u01b0a c\u00f3", "operationId": "sync_sources_from_articles_api_sources_sync_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/rag/search": {"post": {"tags": ["Pipeline", "5\ufe0f\u20e3 RAG (Q&A)"], "summary": "Semantic Search", "description": "T\u00ecm ki\u1ebfm semantic tr\u00ean t\u00e0i li\u1ec7u (OPTIMIZED)\n\nKh\u00f4ng c\u1ea7n LLM - ch\u1ec9 t\u00ecm articles gi\u1ed1ng nh\u1ea5t v\u1edbi query\n\nExample:\n    {\"query\": \"kinh t\u1ebf H\u01b0ng Y\u00ean\", \"limit\": 5}", "operationId": "semantic_search_api_rag_search_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__api__routers__rag__SearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/rag/qa": {"post": {"tags": ["Pipeline", "5\ufe0f\u20e3 RAG (Q&A)"], "summary": "Question Answering", "description": "H\u1ecfi \u0111\u00e1p v\u1edbi RAG + LLM (OPTIMIZED)\n\nFlow:\n1. T\u00ecm articles li\u00ean quan (semantic search)\n2. D\u00f9ng GPT \u0111\u1ec3 generate answer t\u1eeb context\n3. Tr\u1ea3 v\u1ec1 answer + sources\n\nExample:\n    {\"question\": \"T\u00ecnh h\u00ecnh kinh t\u1ebf H\u01b0ng Y\u00ean nh\u01b0 th\u1ebf n\u00e0o?\", \"use_llm\": true}\n    {\"question\": \"C\u00e1c d\u1ef1 \u00e1n \u0111\u1ea7u t\u01b0 m\u1edbi\", \"use_llm\": false}  // Ch\u1ec9 search", "operationId": "question_answering_api_rag_qa_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/QARequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/rag/status": {"get": {"tags": ["Pipeline", "5\ufe0f\u20e3 RAG (Q&A)"], "summary": "Get Rag Status", "description": "Check RAG service status", "operationId": "get_rag_status_api_rag_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"BaseResponse": {"properties": {"http_code": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Code", "default": 200}, "success": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Success", "default": true}, "message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Message"}, "metadata": {"anyOf": [{"$ref": "#/components/schemas/MetadataResponse"}, {"type": "null"}]}}, "type": "object", "title": "BaseResponse"}, "CrawlByCategoryRequest": {"properties": {"url": {"type": "string", "title": "Url"}, "category": {"type": "string", "title": "Category"}, "subcategory": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Subcategory"}, "max_pages": {"type": "integer", "title": "Max Pages", "default": 50}, "max_depth": {"type": "integer", "title": "Max Depth", "default": 2}, "clean": {"type": "boolean", "title": "Clean", "default": true}, "dedupe": {"type": "boolean", "title": "Dedupe", "default": true}, "save": {"type": "boolean", "title": "Save", "default": true}, "save_dir": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Save Dir", "default": "data/processed"}, "filename": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Filename"}}, "type": "object", "required": ["url", "category"], "title": "CrawlByCategoryRequest"}, "CrawlByCategoryResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "category": {"type": "string", "title": "Category"}, "subcategory": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Subcategory"}, "total_crawled": {"type": "integer", "title": "Total Crawled"}, "documents": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Documents", "default": []}, "saved_file": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Saved File"}, "stats": {"additionalProperties": true, "type": "object", "title": "Stats"}}, "type": "object", "required": ["status", "category", "subcategory", "total_crawled", "stats"], "title": "CrawlByCategoryResponse"}, "CrawlRequest": {"properties": {"url": {"type": "string", "title": "Url"}, "mode": {"type": "string", "title": "Mode", "default": "max"}, "custom_params": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Custom Params"}}, "type": "object", "required": ["url"], "title": "CrawlRequest", "description": "CH\u1ec8 C\u1ea6N 2 THAM S\u1ed0 B\u1eaeT BU\u1ed8C:\n- url: Link c\u1ea7n crawl\n- mode: \"preview\" | \"quick\" | \"max\" | \"full\""}, "CrawlResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "processed": {"type": "integer", "title": "Processed"}, "saved_to_db": {"type": "integer", "title": "Saved To Db", "default": 0}, "db_duplicates": {"type": "integer", "title": "Db Duplicates", "default": 0}, "documents": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Documents", "default": []}, "preview": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Preview"}, "stats": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Stats"}}, "type": "object", "required": ["status", "processed"], "title": "CrawlResponse"}, "CrawlStatsResponse": {"properties": {"domain": {"type": "string", "title": "Domain"}, "total_urls": {"type": "integer", "title": "Total Urls"}, "pending": {"type": "integer", "title": "Pending"}, "success": {"type": "integer", "title": "Success"}, "failed": {"type": "integer", "title": "Failed"}, "articles": {"type": "integer", "title": "Articles"}, "categories": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Categories"}}, "type": "object", "required": ["domain", "total_urls", "pending", "success", "failed", "articles", "categories"], "title": "CrawlStatsResponse", "description": "Crawl history statistics"}, "FitRequest": {"properties": {"documents": {"items": {"type": "string"}, "type": "array", "title": "Documents"}, "min_topic_size": {"type": "integer", "title": "Min Topic Size", "default": 10}, "save_model": {"type": "boolean", "title": "Save Model", "default": true}, "model_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Model Name", "default": "default_model"}}, "type": "object", "required": ["documents"], "title": "FitRequest"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "IncrementalCrawlRequest": {"properties": {"domain": {"type": "string", "title": "Domain"}, "category": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Category"}, "limit": {"type": "integer", "title": "Limit", "default": 100}, "article_only": {"type": "boolean", "title": "Article Only", "default": true}, "force_recrawl_days": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Force Recrawl Days"}}, "type": "object", "required": ["domain"], "title": "IncrementalCrawlRequest", "description": "Request for incremental crawling - only new URLs"}, "MetadataResponse": {"properties": {"page": {"type": "integer", "title": "Page"}, "page_size": {"type": "integer", "title": "Page Size"}, "total": {"type": "integer", "title": "Total"}}, "type": "object", "required": ["page", "page_size", "total"], "title": "MetadataResponse"}, "PreviewFullRequest": {"properties": {"url": {"type": "string", "title": "Url"}, "max_depth": {"type": "integer", "title": "Max Depth", "default": 3}, "max_pages": {"type": "integer", "title": "Max Pages", "default": 100}}, "type": "object", "required": ["url"], "title": "PreviewFullRequest"}, "PreviewFullResponse": {"properties": {"url": {"type": "string", "title": "Url"}, "total_pages_found": {"type": "integer", "title": "Total Pages Found"}, "total_unique_links": {"type": "integer", "title": "Total Unique Links"}, "total_categories": {"type": "integer", "title": "Total Categories"}, "standalone_links": {"type": "integer", "title": "Standalone Links"}, "categories_detail": {"additionalProperties": {"additionalProperties": true, "type": "object"}, "type": "object", "title": "Categories Detail"}, "depth_breakdown": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Depth Breakdown"}, "warning": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Warning"}, "recommendation": {"type": "string", "title": "Recommendation"}}, "type": "object", "required": ["url", "total_pages_found", "total_unique_links", "total_categories", "standalone_links", "categories_detail", "depth_breakdown", "recommendation"], "title": "PreviewFullResponse"}, "PreviewRequest": {"properties": {"url": {"type": "string", "title": "Url"}, "max_depth": {"type": "integer", "title": "Max Depth", "default": 1}}, "type": "object", "required": ["url"], "title": "PreviewRequest"}, "PreviewResponse": {"properties": {"url": {"type": "string", "title": "Url"}, "page_type": {"type": "string", "title": "Page Type"}, "title": {"type": "string", "title": "Title"}, "total_internal_links": {"type": "integer", "title": "Total Internal Links"}, "internal_links_sample": {"items": {"type": "string"}, "type": "array", "title": "Internal Links Sample"}, "estimated_pages": {"type": "integer", "title": "Estimated Pages"}, "metadata_summary": {"additionalProperties": true, "type": "object", "title": "Metadata Summary"}, "warning": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Warning"}}, "type": "object", "required": ["url", "page_type", "title", "total_internal_links", "internal_links_sample", "estimated_pages", "metadata_summary"], "title": "PreviewResponse"}, "QARequest": {"properties": {"question": {"type": "string", "title": "Question"}, "top_k": {"type": "integer", "title": "Top K", "default": 5}, "use_llm": {"type": "boolean", "title": "Use Llm", "default": true}, "source_filter": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Source Filter"}}, "type": "object", "required": ["question"], "title": "QARequest", "description": "H\u1ecfi \u0111\u00e1p v\u1edbi LLM"}, "SourceCreate": {"properties": {"name": {"type": "string", "title": "Name"}, "url": {"type": "string", "title": "Url"}, "type": {"type": "string", "title": "Type"}, "category": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Category"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "region": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Region"}}, "type": "object", "required": ["name", "url", "type"], "title": "SourceCreate", "description": "\u0110\u01a1n gi\u1ea3n - ch\u1ec9 c\u1ea7n t\u00ean + URL + lo\u1ea1i"}, "TopicRequest": {"properties": {"action": {"type": "string", "title": "Action"}, "documents": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Documents"}, "min_topic_size": {"type": "integer", "title": "Min Topic Size", "default": 10}, "save_model": {"type": "boolean", "title": "Save Model", "default": true}, "model_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Model Name", "default": "default_model"}, "query": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Query"}, "k": {"type": "integer", "title": "K", "default": 10}}, "type": "object", "required": ["action"], "title": "TopicRequest", "description": "G\u1ed8P fit + transform + search v\u00e0o 1 request"}, "TransformRequest": {"properties": {"documents": {"items": {"type": "string"}, "type": "array", "title": "Documents"}, "model_name": {"type": "string", "title": "Model Name"}}, "type": "object", "required": ["documents", "model_name"], "title": "TransformRequest"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "app__api__routers__rag__SearchRequest": {"properties": {"query": {"type": "string", "title": "Query"}, "limit": {"type": "integer", "title": "Limit", "default": 5}, "source_filter": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Source Filter"}}, "type": "object", "required": ["query"], "title": "SearchRequest", "description": "\u0110\u01a1n gi\u1ea3n - ch\u1ec9 c\u1ea7n query"}, "app__api__routers__topics__SearchRequest": {"properties": {"query": {"type": "string", "title": "Query"}, "k": {"type": "integer", "title": "K", "default": 10}}, "type": "object", "required": ["query"], "title": "SearchRequest"}}}}